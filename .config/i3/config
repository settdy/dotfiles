set $mod Mod4

# KEYBINDS
bindsym Print exec flameshot full -c 
bindsym Shift+Print exec flameshot gui -c
bindsym $mod+Shift+e exec rofimoji

bindsym F5 exec pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym F6 exec alacritty -e alsamixer
bindsym F7 exec pactl set-sink-volume @DEFAULT_SINK@ +5%
bindsym F9 exec playerctl --player=spotify previous
bindsym F10 exec playerctl --player=spotify play-pause
bindsym F11 exec playerctl --player=spotify next
bindsym F12 exec ~/.local/bin/brightness.sh
bindsym $mod+u exec rofi -show power-menu -modi power-menu:rofi-power-menu

bindsym $mod+Return exec alacritty
bindsym $mod+b exec --no-startup-id firefox
bindsym $mod+e exec nemo
bindsym $mod+Tab exec rofi -show window
bindsym Mod1+Tab exec rofi -show window
bindsym Mod1+space exec rofi -show drun
bindsym Control+space exec fcitx-remote -t
bindsym Mod1+Shift exec fcitx-remote -t
bindsym Control+Shift+l exec fcitx-remote -t

bindsym $mod+Shift+q kill
bindsym Control+Shift+q kill
bindsym Mod1+F4 kill
bindsym $mod+Shift+Escape exec i3lock -c 000000
bindsym $mod+Shift+r restart
bindsym $mod+Shift+F1 exec alacritty -e nvim .config/i3/config


# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+c split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+p layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle
bindsym Mod1+F5 floating toggle

# resize window 
mode "resize" {
        bindsym h resize shrink width 10 px or 10 ppt
        bindsym j resize grow height 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        bindsym l resize grow width 10 px or 10 ppt
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}
bindsym $mod+r mode "resize"

bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume  @DEFAULT_SINK@ +10% && $refresh_i3status
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10% && $refresh_i3status
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && $refresh_i3status
bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle && $refresh_i3status

# COLORS

set $rosewater #f4dbd6
set $flamingo #f0c6c6
set $pink #f5bde6
set $mauve #c6a0f6
set $red #ed8796
set $maroon #ee99a0
set $peach #f5a97f
set $yellow #eed49f
set $green #a6da95
set $teal #8bd5ca
set $sky #91d7e3
set $sapphire #7dc4e4
set $blue #8aadf4
set $lavender #b7bdf8
set $text #cad3f5
set $subtext1 #b8c0e0
set $subtext0 #a5adcb
set $overlay2 #939ab7
set $overlay1 #8087a2
set $overlay0 #6e738d
set $surface2 #5b6078
set $surface1 #494d64
set $surface0 #363a4f
set $base #24273a
set $mantle #1e2030
set $crust #181926
set $transparent #00

# target                 title     bg    text   indicator  border
client.focused           $lavender $base $text  $rosewater $transparent
client.focused_inactive  $overlay0 $base $text  $rosewater $transparent
client.unfocused         $overlay0 $base $text  $rosewater $transparent
client.urgent            $peach    $base $peach $overlay0  $transparent
client.placeholder       $overlay0 $base $text  $overlay0  $transparent
client.background        $base

font pango:Maple Mono 12
exec_always feh --bg-scale /home/zap/Pictures/wallpapers/gavrl-snowy-forest.jpg

title_align center

gaps inner 5
gaps outer 0
default_border none
default_floating_border pixel 1

# STARTUP
exec_always $HOME/bin/autotiling.py -w 1 2 4 5

exec polybar
exec dunst
exec flameshot
exec picom
exec preload
exec gsettings set org.gnome.desktop.lockdown disable-lock-screen true
exec --no-startup-id fcitx-remote
exec --no-startup-id -d fcitx
exec --no-startup-id xset s off -dpms
exec --no-startup-id nm-applet 
exec --no-startup-id /usr/libexec/gsd-xsettings
exec --no-startup-id /usr/libexec/gsd-xsettings
exec --no-startup-id dex --autostart --environment i3
exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork

set $refresh_i3status killall -SIGUSR1 i3status

floating_modifier $mod

tiling_drag modifier titlebar


# WORKSPACES

set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10

bindsym $mod+Ctrl+1 [workspace=$ws1] kill
bindsym $mod+Ctrl+2 [workspace=$ws2] kill
bindsym $mod+Ctrl+3 [workspace=$ws3] kill
bindsym $mod+Ctrl+4 [workspace=$ws4] kill
bindsym $mod+Ctrl+5 [workspace=$ws5] kill
bindsym $mod+Ctrl+6 [workspace=$ws6] kill
bindsym $mod+Ctrl+7 [workspace=$ws7] kill
bindsym $mod+Ctrl+8 [workspace=$ws8] kill
bindsym $mod+Ctrl+9 [workspace=$ws9] kill
bindsym $mod+Ctrl+0 [workspace=$ws10] kill

assign [class="firefox"] $ws1
assign [class="Code"] $ws1
assign [class="discord"] $ws2
assign [class="steam"] $ws3
assign [class="obs"] $ws3
assign [class="Spotify"] $ws4
assign [class="Io.github.celluloid_player.Celluloid"] $ws4

for_window [class="Alacritty" title="cava"] floating enable, resize set 600 400, move position 669 570
for_window [class="Flemozi"] floating enable
for_window [class="Yad" title="yad-calendar"] floating enable
